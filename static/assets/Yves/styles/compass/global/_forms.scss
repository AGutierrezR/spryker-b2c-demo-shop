@include sprite-placeholders( 'form/*.png' ){
  // display: inline-block;
  // vertical-align: middle;
  // @include appearance( none );
}

// @each $payment in visa, mastercard, discover, amex, paypal, secure {
//  .payment-#{$payment} {
//    @extend %payment-sprite-#{$payment};
//  }
// }

%button {
  border-radius: .2em;
  @include box-shadow( inset 0 1px 0 rgba( 255, 255, 255, .5 ) );

  border: 1px solid lighten( $ci-gray, 20% );

  text-decoration: none;
  white-space: pre-wrap;

  display: inline-block;
  padding: 4px 8px;
}

.form-list {
  @extend %unstyled-list;

  > li {
    + li {
      margin-top: 1em;
    }
  }
}

.styled-form {
  .row + .row {
    margin-top: ( $column-gutter / 2 );
  }

  label {
    color: $ci-gray;
    font-size: .8em;
    font-weight: 700;
    padding: 6px 0;
    line-height: ( 1.4em / .8 );

    @include transition( color .25s );

    &:hover {
      color: darken( $ci-gray, 50% );
    }

    // &:first-child {
    //  display: block;
    // }

    &[for] {
      cursor: pointer;
    }

    input[type] {
      margin-right: .35em;
    }

    .positive {
      color: $ci-green;
    }
    .negative {
      color: $ci-red;
    }
  }

  .label-error {
    color: $ci-red;
    font-size: .7em;
    font-style: italic;

    display: inline-block;
    margin: .25em 0;

    &:hover {
      color: #f00;
    }
  }

  .form-helper-text {
    font-size: .7em;
  }

  input + small {
    padding-top: .5em;
    display: block;
  }

  small {
    color: lighten( $ci-gray, 20% );
    font-size: .8em;
    margin: .65em 0;
    display: block;
    // line-height: 2.5em;
    // font-style: italic;
  }


  .fieldsets {

    border: 1px solid $ci-silver;
    margin-bottom: 1em;
    padding-top: ( $column-gutter / 2 );
    padding-bottom: ( $column-gutter / 2 );

    &.inactive {
      .only-when-active {
        display: none;
      }
    }

    header {
      label {
        // margin-bottom: 1em;
      }
    }
  }
}

li,
.column {
  > label {
    display: block;
  }
}

.input-field {
  border: 1px solid lighten( $ci-gray, 30% );
  border-radius: .15em;
  background-position: 150% 50%;
  padding: 5px;

  li > &,
  .column > &,
  dd > & {
    display: block;
    width: 100%;
  }

  @include transition( background .125s );

  &:focus {
    border-color: $ci-blue !important;
    @include box-shadow( 0 0 5px $ci-blue );
    outline: none;
    position: relative;
    z-index: 1;
  }

  &:required:invalid {
    border-color: $ci-gray;
  }

  &.valid {
    $valid-bg : 'icon-tick-green.png' ;
    background: inline-image( $valid-bg ) no-repeat 100% 50%;
    padding-right: image-width( $valid-bg ) + 3px;
  }

  &.invalid {
    $invalid-bg : 'icon-error.png' ;
    background: $ci-cream inline-image( $invalid-bg ) no-repeat 100% 50%;
    padding-right: image-width( $invalid-bg ) + 3px;
  }
}

select.input-field {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-right: 5px !important;
  position: relative;

  background-image: none !important;

  &:required {
    border-color: $ci-gray;
  }
}

// .styled-radio {
//   @extend %form-sprite-radio;

//   -webkit-appearance: none;

//   vertical-align: middle;

//   &:checked {
//     @extend %form-sprite-radio-checked;
//   }
// }

.button {
  @extend %button;
  @include transition( background .125s );

  background: $ci-silver;

  color: lighten( $ci-text-base, 10% );
  text-shadow: 0 1px 1px lighten( $ci-silver, 10% );

  &:hover {
    background: lighten( $ci-silver, 5% );
  }
  &:active {
    background: darken( $ci-silver, 2% );
  }
}

.submit-button {
  @extend %button;
  // @include transition( background .125s );

  background: #5bbf5a;
  @include background-image( linear-gradient( top,
    // lighten( #5bbf5a, 10% ),
    #5bbf5a,
    #4ea64e
  ));
  background-position: 0 0%;
  background-size: 100% 200%;

  color: #fff;
  font-weight: bold;
  text-shadow: 0 -1px 0px darken( #4ea64e, 10% );

  border-color: #429442 !important;

  position: relative;

  @include transition( padding .2s cubic-bezier(0.175, 0.885, 0.320, 1.275) );

  &:hover {
    @include background-image( linear-gradient( top,
      lighten( #5bbf5a, 10% ),
      lighten( #4ea64e, 0% )
    ));

    color: #fff;
  }

  &:active {
    @include background-image( linear-gradient( top,
      #4ea64e,
      #5bbf5a
    ));

    color: #fff;
    text-shadow: 0 1px 0px darken( #4ea64e, 10% );
  }

  &:before {
    position: absolute;

    content: '';
    opacity: 0;
    display: none;
    top: 50%;

    left: 8px;

    background-image: image-url( 'ajax-loader.gif' );
    background-position: 100% 50%;
    background-repeat: no-repeat;
    background-size: auto;

    width: image-width( 'ajax-loader.gif' );
    height: image-height( 'ajax-loader.gif' );

    margin-top: - image-height( 'ajax-loader.gif' ) * 0.5;

    @include transition( .2s cubic-bezier(0.175, 0.885, 0.320, 1.275) );
  }

  &.processing {

    padding-left: 16px + image-width( 'ajax-loader.gif' );
    cursor: wait;

    @include box-shadow( none );
    background-image: none;

    &:before {
      display: block;
      opacity: 1;
    }
  }
}

.red-button {
  $color-top: #fe1823;
  $color-bottom: #d60312;
  @extend %button;

  background: mix( $color-top, $color-bottom );
  @include background-image( linear-gradient( top,
    $color-top,
    $color-bottom
  ));

  color: #fff;
  text-shadow: 0 -1px 0px darken( $color-bottom, 10% );

  border-color: darken( $color-bottom, 10% ) !important;

  &:hover {
    @include background-image( linear-gradient( top,
      lighten( $color-top, 10% ),
      lighten( $color-bottom, 0% )
    ));

    color: #fff;
  }

  &:active {
    @include background-image( linear-gradient( top,
      $color-bottom,
      $color-top
    ));

    color: #fff;
    text-shadow: 0 1px 0px darken( $color-bottom, 10% );
  }
}
