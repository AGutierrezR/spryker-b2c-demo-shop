<?xml version="1.0"?>
<database name="zed"
          defaultIdMethod="native"
          package="project/Sao/Zed/Catalog/Persistence"
          defaultPhpNamingMethod="underscore"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://xsd.propelorm.org/1.6/database.xsd">

    <table name="sao_catalog_product_category_boost" package="project/Sao/Zed/Catalog/Persistence"  phpName="SaoCatalogProductCategoryBoost">
        <column name="id_catalog_product_category_boost" type="INTEGER" required="true" primaryKey="true" autoIncrement="true" />
        <column name="fk_catalog_product_category" type="INTEGER" required="true" />
        <column name="boost" type="INTEGER" required="true" />
        <foreign-key foreignTable="pac_catalog_product_category" phpName="ProductCategory" refPhpName="ProductCategoryBoost" onDelete="CASCADE">
            <reference local="fk_catalog_product_category" foreign="id_catalog_product_category" />
        </foreign-key>
    </table>

    <table name="sao_catalog_sold_limited_edition"  phpName="SaoCatalogSoldLimitedEdition">
        <column name="id_catalog_sold_limited_edition" type="INTEGER" required="true" primaryKey="true" autoIncrement="true" />
        <column name="fk_catalog_product" type="INTEGER" required="true" primaryKey="false" />
        <column name="edition_identifier" type="VARCHAR" size="100" required="true" />

        <behavior name="timestampable"/>

        <foreign-key foreignTable="pac_catalog_product" phpName="Product" refPhpName="SoldLimitedEdition">
            <reference foreign="id_catalog_product" local="fk_catalog_product"/>
        </foreign-key>
        <unique>
            <unique-column name="fk_catalog_product"/>
            <unique-column name="edition_identifier"/>
        </unique>
    </table>

</database>
