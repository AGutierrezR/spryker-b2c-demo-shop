<?xml version="1.0"?>
<database name="zed"
          package="vendor/spryker/zed-package/src/ProjectA/Zed/ProductImage/Persistence/Propel"
          defaultIdMethod="native"
          defaultPhpNamingMethod="underscore"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://xsd.propelorm.org/1.6/database.xsd">

    <table name="pac_catalog_product_image_size" phpName="PacCatalogProductImageSize">
        <column name="id_catalog_product_image_size" required="true" type="INTEGER" autoIncrement="true" primaryKey="true" />
        <column name="name" type="VARCHAR" required="true" />
        <column name="width" type="INTEGER" required="true" />
        <column name="height" type="INTEGER" required="true" />
        <column name="quality" type="INTEGER" required="true" />
        <behavior name="timestampable"/>
    </table>

    <table name="pac_catalog_product_image" phpName="PacCatalogProductImage">
        <column name="id_catalog_product_image" required="true" type="INTEGER" autoIncrement="true" primaryKey="true" />
        <column name="fk_catalog_product" required="true" type="INTEGER" />
        <column name="fk_catalog_product_image_size" required="true" type="INTEGER" />
        <column name="seo_title" type="VARCHAR" required="false" />
        <column name="seo_filename" type="VARCHAR" required="true" />
        <column name="weight" type="VARCHAR" required="true" default="0" />
        <column name="original_image_path" type="VARCHAR" required="true" />
        <column name="processed_image_path" type="VARCHAR" required="true" />
        <column name="image_hash" type="VARCHAR" required="true" />
        <behavior name="timestampable"/>

        <foreign-key foreignTable="pac_catalog_product_image_size" phpName="ProductImageSize" refPhpName="ProductImage">
            <reference local="fk_catalog_product_image_size" foreign="id_catalog_product_image_size"/>
        </foreign-key>
        <foreign-key foreignTable="pac_catalog_product" phpName="Product" refPhpName="ProductImage">
            <reference local="fk_catalog_product" foreign="id_catalog_product" />
        </foreign-key>
    </table>

</database>
