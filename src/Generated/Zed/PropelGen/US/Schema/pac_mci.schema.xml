<?xml version="1.0"?>
<database name="zed"
          tablePrefix="pac_"
          defaultIdMethod="native"
          defaultPhpNamingMethod="underscore"
          baseClass="ProjectA_Zed_Library_Propel_BaseObject"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="http://xsd.propelorm.org/1.6/database.xsd"
          package="vendor/project-a/marketing-package/ProjectA/Zed/Mci/Persistence" >

    <table name="mci_cost_entry"  phpName="PacMciCostEntry">
        <column name="id_mci_cost_entry" required="true" type="INTEGER" autoIncrement="true" primaryKey="true" />

        <column name="from" required="true" type="DATE"/>
        <column name="to" required="true" type="DATE"/>

        <column name="cost" required="true" type="INTEGER"/>
        <column name="fk_mci_cost_type" required="true" type="INTEGER"/>
        <foreign-key foreignTable="mci_cost_type" phpName="MciCostType"
                     refPhpName="PacMciCostEntry">
            <reference local="fk_mci_cost_type" foreign="id_mci_cost_type"/>
        </foreign-key>


        <column name="fk_mcm_channel" required="true" type="INTEGER"/>
        <foreign-key foreignTable="mcm_channel" phpName="McmChannel"
                     refPhpName="PacMciCostEntry">
            <reference local="fk_mcm_channel" foreign="id_mcm_channel"/>
        </foreign-key>

        <column name="fk_mcm_partner_in_channel" required="false" type="INTEGER" />
        <foreign-key foreignTable="mcm_partner_in_channel" phpName="McmPartnerInChannel"
                     refPhpName="PacMciCostEntry">
            <reference local="fk_mcm_partner_in_channel" foreign="id_mcm_partner_in_channel"/>
        </foreign-key>

        <column name="fk_mcm_publication" required="false" type="INTEGER" />
        <foreign-key foreignTable="mcm_publication" phpName="McmPublication"
                     refPhpName="PacMciCostEntry">
            <reference local="fk_mcm_publication" foreign="id_mcm_publication"/>
        </foreign-key>

        <column name="fk_mcm_campaign" required="false" type="INTEGER" />
        <foreign-key foreignTable="mcm_campaign" phpName="McmCampaign"
                     refPhpName="PacMciCostEntry">
            <reference foreign="id_mcm_campaign" local="fk_mcm_campaign" />
        </foreign-key>


        <column name="fk_acl_user_created" required="true" type="INTEGER"/>
        <foreign-key foreignTable="acl_user" phpName="AclUserCreated">
            <reference foreign="id_acl_user" local="fk_acl_user_created"/>
        </foreign-key>

        <column name="fk_acl_user_updated" required="true" type="INTEGER"/>
        <foreign-key foreignTable="acl_user" phpName="AclUserUpdated">
            <reference foreign="id_acl_user" local="fk_acl_user_updated"/>
        </foreign-key>

        <behavior name="timestampable"/>
    </table>


    <table name="mci_cost_type"  phpName="PacMciCostType">
        <column name="id_mci_cost_type" required="true" type="INTEGER" autoIncrement="true" primaryKey="true" />
        <column name="name" type="VARCHAR" required="true" />

		<unique>
			<unique-column name="name" />
		</unique>

    </table>

</database>
