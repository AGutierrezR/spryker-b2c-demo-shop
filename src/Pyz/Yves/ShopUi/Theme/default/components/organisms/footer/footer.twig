{% extends model('component') %}

{% define config = {
    name: 'footer',
    tag: 'footer'
} %}

{% define data = {
    showNavigation: true
} %}

{% block body %}
    {% macro topCol(name, index, title, menu) %}
        <div class="{{ name }}__top-col">
            <h5
                class="{{ name }}__title {{ name }}__title--nav js-toggle-nav"
                data-toggle-target=".js-footer-nav-{{ index }}"
            >
                {{- title | trans -}}
            </h5>

            <div class="{{ name }}__navigation-main {{ name }}__navigation-main--hidden js-footer-nav-{{ index }}">
                {{- widgetGlobal('NavigationWidgetPlugin', menu, 'navigation-footer') -}}
            </div>
        </div>
    {% endmacro %}

    <div class="container">

        {% block footerTop %}
            <div class="{{ config.name }}__top">

                <div class="{{ config.name }}__subscription">
                    <h5 class="{{ config.name }}__title">
                        {{- 'global.newsletter' | trans -}}
                    </h5>

                    <span class="{{ config.name }}__subscription-text">
                        {{- 'footer_subscribe.subscription_text' | trans -}}
                    </span>

                    {{- render(path('newsletter/subscribe')) -}}
                </div>

                {% if data.showNavigation %}
                    {{ _self.topCol(config.name, 1, 'global.categories', 'FOOTER_NAVIGATION_CATEGORIES') }}
                {% endif %}

                {{ _self.topCol(config.name, 2, 'global.company', 'FOOTER_NAVIGATION') }}

                {{ _self.topCol(config.name, 3, 'global.social', 'SOCIAL_LINKS') }}

                <div class="{{ config.name }}__top-col is-hidden-md-xl">
                    <h5 class="{{ config.name }}__title {{ config.name }}__title--nav js-toggle-nav" data-toggle-target=".js-footer-nav-4">
                        {{ 'footer.providers__title' | trans }}
                    </h5>
                    <div class="{{ config.name }}__navigation-main {{ config.name }}__navigation-main--hidden js-footer-nav-4">
                        {{- widgetGlobal('NavigationWidgetPlugin', 'SHIPMENT_PROVIDERS', 'navigation-providers-shipment') -}}
                        {{- widgetGlobal('NavigationWidgetPlugin', 'PAYMENT_PROVIDERS', 'navigation-providers-payment') -}}
                    </div>
                </div>
            </div>
        {% endblock %}

        <div class="grid grid--middle {{ config.name }}__bottom">

            <div class="col {{ config.name }}__logo-section">

                <div class="{{ config.name }}__logo-copy">
                    <span class="{{ config.name }}__logo-copy-text">
                        {{- 'footer.logo.text' | trans -}}
                    </span>

                    <span class="{{ config.name }}__logo-copy-logo">
                        <a href="{{ 'footer.logo.url' | trans }}">
                            <span class="grid grid--middle">
                                <img src="/assets/images/spryker-logo.svg" alt="Logo" />
                            </span>
                        </a>
                    </span>

                    {% block copyright %}{% endblock %}
                </div>

                <div class="{{ config.name }}__logo-copy-links">
                    <a
                        href="{{ 'footer.logo.link.privacy' | trans }}"
                        target="_blank"
                        class="{{ config.name }}__logo-copy-link"
                    >
                        {{- 'page.privacy.title' | trans -}}
                    </a>

                    <a
                        href="{{ 'footer.logo.link.imprint' | trans }}"
                        target="_blank"
                        class="{{ config.name }}__logo-copy-link"
                    >
                        {{- 'page.imprint.title' | trans -}}
                    </a>
                </div>
            </div>
            <div class="col {{ config.name }}__icon-lists is-hidden-sm-only">
                <div class="{{ config.name }}__icon-list">
                    {{- widgetGlobal('NavigationWidgetPlugin', 'PAYMENT_PROVIDERS', 'navigation-providers-payment') -}}
                </div>

                <div class="{{ config.name }}__icon-list">
                    {{- widgetGlobal('NavigationWidgetPlugin', 'SHIPMENT_PROVIDERS', 'navigation-providers-shipment') -}}
                </div>
            </div>

            <div class="col {{ config.name }}__currency-lang">
                <div class="{{ config.name }}__select">
                    {{- widgetGlobal(
                        'LanguageSwitcherWidgetPlugin',
                        app.request.pathInfo,
                        app.request.queryString,
                        app.request.requestUri
                    ) -}}
                </div>

                <div class="{{ config.name }}__select">
                    {{- widgetGlobal('CurrencyWidgetPlugin') -}}
                </div>
            </div>

        </div>

        {% include molecule('toggler-accordeon') with {
            attributes: {
                trigger: '.js-toggle-nav',
                'class-to-toggle': config.name ~ '__navigation-main--hidden'
            }
        } only %}

    </div>
{% endblock %}
