{% extends template('widget') %}

{% define data = {
    images: _widget.product.images | default([]),
    amountSlides: 6
} %}

{% block body %}

    {% set sliderLength = data.images | length %}
    {% set amountThumb = (sliderLength > data.amountSlides) ? data.amountSlides : sliderLength %}

    {% include molecule('pdp-carousel', 'ProductImageWidget') with {
        class: 'pdp-slider',
        data: {
            slides: data.images,
            containerClass: 'js-product-slider',
            thumbnailClass: 'js-product-slider-thumbnails'
        },
        attributes: {
            'data-main-config': '{
                "slidesToShow": 1,
                "slidesToScroll": 1,
                "arrows": false,
                "fade": true,
                "dots": false,
                "asNavFor": ".js-product-slider-thumbnails",
                "responsive": [
                    {
                        "breakpoint": 769,
                        "settings": {
                            "fade": false,
                            "dots": true
                        }
                    }]
            }',
            'data-thumbnail-config': '{
                "slidesToShow": ' ~ amountThumb ~ ',
                "slidesToScroll": 1,
                "asNavFor": ".js-product-slider",
                "centerMode": true,
                "focusOnSelect": true,
                "vertical": true
            }'
        }
    } only %}


    {#{% if (sliderLength > 1) %}#}
    {#{% endif %}#}

{% endblock %}
