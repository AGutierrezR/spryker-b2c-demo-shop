{% extends "@application/layout/layout.twig" %}

{% block breadcrumbItems %}
    <li><a href="/">{{ 'global.home' | trans }}</a></li>
{% endblock %}

{% block title %}
    <h3>{{ 'wishlist.title' | trans }}</h3>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="small-12 columns">
            <div class="callout">
                <ul class="no-bullet">
                    {% if wishlistOverview.items|length %}
                        <table>
                            <tbody>
                                {% for item in wishlistOverview.items %}
                                    {% if item.product is defined %}
                                    <tr>
                                        {% set imageUrl = '' %}
                                        {% if item.product.imageSets is defined and item.product.imageSets.default is defined %}
                                            {% set imageUrl = item.product.imageSets.default[0].externalUrlSmall %}
                                        {% endif %}
                                        <td><img width="75" src="{{ imageUrl }}" /></td>
                                        <td>{{ item.product.sku }}</td>
                                        <td>{{ item.product.name }}</td>
                                        <td>{{ item.product.price | price }}</td>
                                        <td>
                                            {% for attribute in item.product.superAttributes %}
                                                {% if item.product.attributes[attribute] is defined %}
                                                    {{ attribute | trans }}: {{ item.product.attributes[attribute] }} <br/>
                                                {% endif %}
                                            {% endfor %}
                                        </td>
                                        <td>
                                            <a href="{{ path('wishlist', {sku: item.product.sku}) }}">Remove</a> <br/>
                                            <a href="/cart/add/{{ item.product.sku }}">Move to cart</a>
                                        </td>
                                    </tr>
                                    {% endif %}
                                {% endfor %}
                            </tbody>
                        </table>
                    {% else %}
                        <li>Your wishlist is empty.</li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
{% endblock %}
