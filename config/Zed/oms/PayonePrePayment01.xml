<?xml version="1.0" encoding="utf-8"?>
<statemachine
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="process.xsd">>

    <process name="PayonePrePayment01" main="true">
        <states>
            <state name="new" reserved="true"/>
            <state name="paid" display="customer.order.status.received" />
            <state name="shipped" display="custom.order.status.shipped" />
        </states>


        <transitions>
            <transition happy="true">
                <source>new</source>
                <target>paid</target>
                <event>fake payment</event>
            </transition>
            <transition>
                <source>paid</source>
                <target>shipped</target>
                <event>ship it</event>
            </transition>
        </transitions>


        <events>
            <event name="fake payment" onEnter="true" command="FakeProvider/AuthPay"/>
            <event name="ship it" manual="true" />
        </events>
    </process>

</statemachine>
