<?xml version="1.0" encoding="utf-8"?>
<statemachine
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../process.xsd"
>
    <process name="re-authorization">
        <transitions>
            <transition happy="true" condition="PayolutionOmsConnector/ReAuthorizationIsApproved">
                <source>ready to be shipped</source>
                <target>ready to be shipped</target>
                <event>re-authorize</event>
            </transition>
            <transition>
                <source>ready to be shipped</source>
                <target>payment validation failed</target>
                <event>re-authorize</event>
            </transition>
        </transitions>
        <events>
            <event name="re-authorize" manual="true" command="Payolution/ReAuthorize"/>
        </events>
    </process>
</statemachine>
